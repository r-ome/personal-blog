---
import { formatDate } from "../utils/date";
import { getCollection } from "astro:content";
import PageLayout from "../layouts/PageLayout.astro";

const blogs = await getCollection("blog", (blog) => blog.data.show);
blogs.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<PageLayout title="blog">
  <div>
    <div id="header" class="flex font-semibold pl-4">
      <div class="w-1/3">Date</div>
      <div class="w-2/3">Title</div>
    </div>

    <div>
      {
        blogs.map((item) => (
          <a
            href={`/blog/${item.data.slug}`}
            class="flex hover:bg-gray-100 cursor-pointer py-2 items-center pl-4"
          >
            <div class="w-1/3 text-gray-500 text-sm sm:text-md">
              {formatDate(item.data.date)}
            </div>
            <div class="w-2/3 font-medium text-sm sm:text-md">
              {item.data.title}
            </div>
          </a>
        ))
      }
    </div>
  </div>
</PageLayout>
